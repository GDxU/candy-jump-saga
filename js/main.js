var com;(function(a){(function(d){var c=(function(){function e(){}e.supportsDeviceOrientation=function(){if("ondeviceorientation" in window){return true}return false};e.isTouchDevice=function(){if("ontouchstart" in window){return true}return false};e.isMobileDevice=function(){if(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/Mobile/i)||navigator.userAgent.match(/Tablet/i)){return true}return false};e.isChrome=function(){if(navigator.userAgent.match(/Chrome/i)){return true}return false};e.isFirefox=function(){if(navigator.userAgent.match(/Firefox/i)){return true}return false};e.isOpera=function(){if(navigator.userAgent.match(/Opera/i)){return true}return false};e.isIE11=function(){if(navigator.userAgent.match(/Trident/i)){return true}return false};e.isAndroid=function(){if(navigator.userAgent.match(/Android/i)){return true}return false};e.isLinux=function(){if(navigator.userAgent.match(/Linux/i)){return true}return false};e.isWindows=function(){if(navigator.userAgent.match(/Windows/i)){return true}return false};e.isMac=function(){if(navigator.userAgent.match(/Mac/i)){return true}return false};e.renderInWebGL=function(){if(e.isChrome()||e.isOpera()||e.isIE11()||e.isFirefox()){return true}return false};e.lockScreenToPortrait=function(){if(window.screen.mozLockOrientation){window.screen.mozLockOrientation("portrait-primary")}else{if(window.screen.lockOrientation){window.screen.lockOrientation("portrait-primary")}}};e.isLandscapeMode=function(){if(window.orientation==null){return(window.innerWidth>window.innerHeight)&&e.isMobileDevice()}if(window.orientation==90||window.orientation==-90){return true&&e.isMobileDevice()}return false};e.isGamepadSupported=function(){return !!navigator.webkitGetGamepads||!!navigator.webkitGamepads||(navigator.userAgent.indexOf("Firefox/")!=-1)};return e})();d.DeviceUtils=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(){}e.removeAllChildren=function(g){if(g==null){return}for(var f=g.children.length-1;f>=0;f--){g.removeChild(g.children[f])}};return e})();d.DisplayObjectUtils=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(){var f=document.getElementById("background_area");this._stage=new PIXI.Stage(0,false);if(d.DeviceUtils.renderInWebGL()){this._renderer=PIXI.autoDetectRenderer(d.GameMain.GAME_DIMENSION.width,d.GameMain.GAME_DIMENSION.height,f,false)}else{this._renderer=new PIXI.CanvasRenderer(d.GameMain.GAME_DIMENSION.width,d.GameMain.GAME_DIMENSION.height,f,false)}this.gfx=PIXI.Sprite.fromFrame(e.DEFAULT_FRAME);this.gfx.position.x=0;this.gfx.position.y=0;this.gfx.scale=new PIXI.Point(1,1.2);this._stage.addChild(this.gfx);this.update()}e.prototype.resizeGameForMobile=function(f,g){this._renderer.view.style.height=g+"px";this._renderer.view.style.width=f+"px";this.update()};e.prototype.update=function(){this._renderer.render(this._stage)};e.prototype.dispose=function(){if(this.gfx){this._stage.removeChild(this.gfx);this.gfx=null}this._stage=null;this._renderer=null};e.DEFAULT_FRAME="bg_grassland";return e})();d.BackgroundArea=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(){}e.START_GAME="start_game";e.LEVEL_START="level_start";e.LEVEL_COMPLETE="level_complete";e.PLAYER_DIE="player_die";e.SOUND_LOADED="sound_loaded";e.SOUND_ERROR="sound_error";e.TOGGLE_PAUSE="game_pause";e.TOGGLE_MUTE="game_mute";e.SHOW_MENU_FROM_GAME="SHOW_MENU_FROM_GAME";e.GAMEPAD_ACTION_KEY="GAMEPAD_ACTION_KEY";e.GAMEPAD_MUTE_KEY="GAMEPAD_MUTE_KEY";e.GAMEPAD_MENU_KEY="GAMEPAD_MENU_KEY";e.GAMEPAD_RIGHT_KEY="GAMEPAD_RIGHT_KEY";e.GAMEPAD_LEFT_KEY="GAMEPAD_LEFT_KEY";e.GAMEPAD_CONNECTED="GAMEPAD_CONNECTED";e.GAMEPAD_DISCONNECTED="GAMEPAD_DISCONNECTED";return e})();d.GameEventType=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var com;(function(a){(function(e){var c=(function(g){__extends(f,g);function f(h,i){g.call(this);this.rect=new PIXI.Rectangle(0,0,0,0);this.isAlive=true;this.isLevelComplete=false;this._score=0;this._jumpDirection=1;this._jumpCount=0;this._jumpSpeed=f.NORMAL_JUMP_SPEED;this._dropSpeed=7;this._maxJumpCount=35;this.allowHitTest=false;this._left=false;this._right=false;this._walkSpeed=0.2;this._vx=0;this._friction=0.6;this._maxSpeed=4;this._playerPosition=new PIXI.Point(150,-70);this._invertOrientation=false;this._dieTimer=0;this._isGameStarted=false;this._container=h;this._renderer=i;this.gfx=new PIXI.MovieClip([PIXI.Texture.fromFrame(d.STAND),PIXI.Texture.fromFrame(d.JUMP),PIXI.Texture.fromFrame(d.HURT)]);this.gfx.scale=new PIXI.Point(0.8,0.8);this.gfx.anchor=new PIXI.Point(0.5,1);this.gfx.loop=false;this._container.addChild(this.gfx);this.init()}f.prototype.onGameStart=function(){this._isGameStarted=true;this.initListeners()};f.prototype.init=function(){this._playerPosition=new PIXI.Point(150,-70);this.gfx.position.x=this._playerPosition.x;this.gfx.position.y=this._playerPosition.y;this.gfx.rotation=0;this._dieTimer=0;this.isAlive=true;this._score=0;this._jumpDirection=1;this._jumpCount=0;this._vx=0;this._dieTimer=0;this.allowHitTest=false;this._isGameStarted=false;this.updateRect()};f.prototype.initListeners=function(){this.onKeyDownHL=this.onKeyDownHL.bind(this);this.onKeyUpHL=this.onKeyUpHL.bind(this);this.onTouchStartHL=this.onTouchStartHL.bind(this);this.onTouchEndHL=this.onTouchEndHL.bind(this);this.onTouchMoveHL=this.onTouchMoveHL.bind(this);this.onDeviceMotionHandler=this.onDeviceMotionHandler.bind(this);document.addEventListener("keydown",this.onKeyDownHL,false);document.addEventListener("keyup",this.onKeyUpHL,false);document.addEventListener("touchstart",this.onTouchStartHL,false);document.addEventListener("touchend",this.onTouchEndHL,false);if(e.DeviceUtils.supportsDeviceOrientation()){if(e.DeviceUtils.isFirefox()){this._invertOrientation=true}window.addEventListener("deviceorientation",this.onDeviceMotionHandler,false)}else{document.addEventListener("touchmove",this.onTouchMoveHL,false)}};f.prototype.updateRect=function(){this.rect.x=(this.gfx.position.x-(this.gfx.width>>1));this.rect.y=(this.gfx.position.y-this.gfx.height);this.rect.width=this.gfx.width;this.rect.height=this.gfx.height};f.prototype.updateScore=function(h){this._score+=h};f.prototype.candyPickup=function(){if(this._jumpSpeed==f.SPRING_JUMP_SPEED){return}this._jumpCount=0;this._jumpDirection=1;this._jumpSpeed=f.CANDY_JUMP_SPEED};f.prototype.getScore=function(){return this._score};f.prototype.onTouchStartHL=function(h){h.preventDefault();h.stopPropagation()};f.prototype.onTouchEndHL=function(h){h.preventDefault();h.stopPropagation()};f.prototype.onTouchMoveHL=function(i){if(i.targetTouches.length>=1){var j=i.targetTouches[0];var h=((j.pageX-this._renderer.view.offsetLeft)/this._renderer.view.offsetWidth)*this._renderer.view.width;this._playerPosition.x=h}i.preventDefault();i.stopPropagation()};f.prototype.onDeviceMotionHandler=function(j){var i=0;var h=0;if(e.DeviceUtils.isLandscapeMode()==false){i=j.beta;h=j.gamma}else{h=j.beta;i=j.gamma}if(this._invertOrientation){i*=-1;h*=-1}var k=Math.round(Math.atan2(h,i)*10)/10;if(k<=-0.2){this._left=true;this._right=false}else{if(k>=0.2){this._left=false;this._right=true}else{this._left=false;this._right=false}}};f.prototype.onKeyUpHL=function(h){var i=true;switch(h.keyCode){case 39:this._right=false;break;case 37:this._left=false;break;default:i=false}if(i){h.preventDefault();h.stopPropagation()}};f.prototype.onKeyDownHL=function(h){var j=true;switch(h.keyCode){case 39:this._right=true;this._left=false;break;case 37:this._left=true;this._right=false;break;case 80:var i={};i.type=e.GameEventType.TOGGLE_PAUSE;this.dispatchEvent(i);break;default:j=false}if(j){h.preventDefault();h.stopPropagation()}};f.prototype.jump=function(){this.allowHitTest=false;this.gfx.position.y-=this._jumpSpeed;if(this._jumpCount<=5){this.gfx.gotoAndStop(f.STAND)}else{this.gfx.gotoAndStop(f.JUMP)}this._jumpCount++;if(this._jumpCount>=this._maxJumpCount){this._jumpCount=0;this._jumpDirection*=-1}};f.prototype.drop=function(){this._jumpSpeed=f.NORMAL_JUMP_SPEED;this.allowHitTest=true;this.gfx.position.y+=this._dropSpeed;this.gfx.gotoAndStop(f.JUMP)};f.prototype.changeDirectionToJump=function(){this.gfx.gotoAndStop(f.STAND);this._jumpDirection=1;this._jumpCount=0};f.prototype.die=function(){if(this._jumpDirection==0){return}this._jumpDirection=0;this._jumpCount=0;this.gfx.gotoAndStop(f.HURT);this.gfx.anchor.y=0.5};f.prototype.setPosition=function(j,n){var m=Math.sqrt(Math.pow((j-this.gfx.position.x),2)+Math.pow((n-this.gfx.position.y),2));var l=this.gfx.position.x;if(m>5){var i=this.gfx.position.y-n;var k=this.gfx.position.x-j;var h=Math.atan2(i,k)*180/Math.PI;l-=(Math.cos(h/180*Math.PI)*10)>>0}else{l=j}this.gfx.position.x=l};f.prototype.bounce=function(){this._jumpCount=0;this._jumpDirection=1;this._jumpSpeed=f.SPRING_JUMP_SPEED};f.prototype.levelComplete=function(){this.isLevelComplete=true;var h={};h.type=e.GameEventType.LEVEL_COMPLETE;this.dispatchEvent(h)};f.prototype.update=function(){if(this._isGameStarted==false){return}if(this._jumpDirection==0){if(this.gfx.position.y<=100){this.gfx.position.y+=this._dropSpeed;this.gfx.rotation+=0.2}if(this.isAlive==false){return}this._dieTimer++;if(this._dieTimer>=10){this.isAlive=false;var h={};h.type=e.GameEventType.PLAYER_DIE;this.dispatchEvent(h)}return}if(this.isLevelComplete==false){this.handleMovement()}else{this._vx=0}if(this._jumpDirection==1&&this.isLevelComplete==false){this.jump()}else{if(this._jumpDirection==-1){this.drop()}}this._playerPosition.x+=this._vx;this._playerPosition.y=this.gfx.position.y;this.setPosition(this._playerPosition.x,this._playerPosition.y);this.updateRect()};f.prototype.handleMovement=function(){if(this.gfx.position.x<10){this._vx=0;this.gfx.position.x=10}if(this.gfx.position.x>390){this._vx=0;this.gfx.position.x=390}if(this._right&&this.gfx.position.x<390){this._vx+=this._walkSpeed}else{if(this._left&&this.gfx.position.x>10){this._vx-=this._walkSpeed}else{this._vx*=this._friction}}if(this._vx>this._maxSpeed){this._vx=this._maxSpeed}else{if(this._vx<-this._maxSpeed){this._vx=-this._maxSpeed}}};f.prototype.dispose=function(){document.removeEventListener("keydown",this.onKeyDownHL,false);document.removeEventListener("keyup",this.onKeyUpHL,false);document.removeEventListener("touchstart",this.onTouchStartHL,false);document.removeEventListener("touchend",this.onTouchEndHL,false);window.removeEventListener("deviceorientation",this.onDeviceMotionHandler,false);document.removeEventListener("touchmove",this.onTouchMoveHL,false);if(this.gfx.parent){this._container.removeChild(this.gfx)}this._playerPosition=null;this._renderer=null;this._container=null};f.prototype.setLeft=function(h){this._left=h};f.prototype.setRight=function(h){this._right=h};f.NORMAL_JUMP_SPEED=5;f.SPRING_JUMP_SPEED=16;f.CANDY_JUMP_SPEED=7;f.STAND=0;f.JUMP=1;f.HURT=2;return f})(PIXI.EventTarget);e.Hero=c;var d=(function(){function f(){}f.STAND="alienYellow_stand";f.JUMP="alienYellow_jump";f.HURT="alienYellow_hurt";return f})();e.HeroFrameName=d})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(f){this.size=f;this.rect=new PIXI.Rectangle(0,0,0,0);this.canRemove=false;this.isAlive=true;this._spriteWidth=70;this._direction=0}e.prototype.prepare=function(n,g,j){this.gfx=new PIXI.DisplayObjectContainer();var f=new PIXI.Sprite(j);f.position.x=0;this.gfx.addChild(f);var l=f.position.x+this._spriteWidth;for(var h=0;h<this.size-2;h++){var k=new PIXI.Sprite(g);k.position.x=(h+1)*this._spriteWidth;this.gfx.addChild(k);l=k.position.x+this._spriteWidth}var m=new PIXI.Sprite(n);if(this.size==1){m.position.x=22}else{m.position.x=l}this.gfx.addChild(m);this.rect=new PIXI.Rectangle(this.gfx.position.x,this.gfx.position.y,m.position.x+70,70)};e.prototype.setPosition=function(g,f){this.rect.x=g;this.rect.y=f;this.gfx.position.x=g;this.gfx.position.y=f};e.prototype.setDirection=function(f){this._direction=f};e.prototype.explode=function(){};e.prototype.update=function(){if(this._direction==0){return}this.gfx.position.x+=1*this._direction;if((this.gfx.position.x+this.rect.width)>=d.GameMain.GAME_DIMENSION.width||this.gfx.position.x<=0){this._direction*=-1}this.rect.x=this.gfx.position.x;this.rect.y=this.gfx.position.y};e.prototype.dispose=function(){this.gfx=null;this.rect=null};return e})();d.BasePlatform=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(f){__extends(e,f);function e(h){f.call(this,h);if(h<2){return}var g=PIXI.Texture.fromFrame(e.FRAME_MID);var i=PIXI.Texture.fromFrame(e.FRAME_LEFT);var j=PIXI.Texture.fromFrame(e.FRAME_RIGHT);this.prepare(j,g,i)}e.prototype.update=function(){};e.prototype.dispose=function(){f.prototype.dispose.call(this)};e.FRAME_MID="grassMid";e.FRAME_LEFT="grassLeft";e.FRAME_RIGHT="grassRight";return e})(d.BasePlatform);d.FullGrass=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(e){__extends(f,e);function f(h){e.call(this,h);var g=PIXI.Texture.fromFrame(f.FRAME_MID);var i=PIXI.Texture.fromFrame(f.FRAME_LEFT);var j=PIXI.Texture.fromFrame(f.FRAME_RIGHT);this.prepare(j,g,i)}f.prototype.update=function(){e.prototype.update.call(this)};f.prototype.dispose=function(){};f.FRAME_MID="grassHalfMid";f.FRAME_LEFT="grassHalfLeft";f.FRAME_RIGHT="grassHalfRight";return f})(d.BasePlatform);d.HalfGrass=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(f){__extends(e,f);function e(i){f.call(this,i);if(i==1){this.gfx=new PIXI.DisplayObjectContainer();var h=new PIXI.Sprite(PIXI.Texture.fromFrame(e.FRAME_SINGLE));h.position.x=0;h.width=90;h.alpha=0.8;this.gfx.addChild(h);this.rect=new PIXI.Rectangle(this.gfx.position.x,this.gfx.position.y,this.gfx.position.x+90,70)}else{var g=PIXI.Texture.fromFrame(e.FRAME_MID);var j=PIXI.Texture.fromFrame(e.FRAME_LEFT);var k=PIXI.Texture.fromFrame(e.FRAME_RIGHT);this.prepare(k,g,j)}}e.prototype.explode=function(){this.isAlive=false};e.prototype.update=function(){f.prototype.update.call(this);if(this.isAlive==false&&this.canRemove==false){this.gfx.position.y+=8;this.gfx.alpha-=0.02;if(this.gfx.alpha<=0){this.canRemove=true}}};e.prototype.dispose=function(){};e.FRAME_SINGLE="sandHalf";e.FRAME_MID="sandHalfMid";e.FRAME_LEFT="sandHalfLeft";e.FRAME_RIGHT="sandHalfRight";return e})(d.BasePlatform);d.HalfSand=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(){this._textureList=[];this.rect=new PIXI.Rectangle(0,0,0,0);this.isBounce=false;this._textureList=[PIXI.Texture.fromFrame("springboardDown"),PIXI.Texture.fromFrame("springboardUp")];this._springMC=new PIXI.MovieClip(this._textureList);this._springMC.loop=false;this._springMC.gotoAndStop(e.FRAME_UP);this._springMC.scale=new PIXI.Point(0.5,0.5);this.gfx=new PIXI.DisplayObjectContainer();this.gfx.addChild(this._springMC);this.rect.width=this._springMC.width;this.rect.height=this._springMC.height}e.prototype.setPosition=function(g,f){this.rect.x=g;this.rect.y=f;this.gfx.position.x=g;this.gfx.position.y=f};e.prototype.bounce=function(){this.isBounce=true;this._springMC.gotoAndStop(e.FRAME_DOWN)};e.prototype.dispose=function(){d.DisplayObjectUtils.removeAllChildren(this.gfx);if(this._textureList){this._textureList.length=0;this._textureList=null}this._springMC=null;this.gfx=null};e.FRAME_DOWN=0;e.FRAME_UP=1;return e})();d.SpringPlatform=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(){}e.GREEN_AREA={data:[{type:"full_grass",size:8,x:-100,y:-70},{type:"half_grass",size:1,x:5,y:-200},{type:"half_grass",size:1,x:103,y:-200},{type:"half_grass",size:1,x:203,y:-200},{type:"half_grass",size:1,x:303,y:-200},{type:"half_grass",size:1,x:200,y:-300},{type:"half_grass",size:1,x:10,y:-350},{type:"half_grass",size:1,x:300,y:-400},{type:"red_wrapped",x:350,y:-450},{type:"half_grass",size:1,x:10,y:-500},{type:"half_grass",size:2,x:120,y:-500},{type:"half_grass",size:1,x:10,y:-650},{type:"half_grass",size:1,x:10,y:-800},{type:"half_grass",size:1,x:10,y:-950},{type:"half_grass",size:1,x:30,y:-1100},{type:"half_grass",size:2,x:140,y:-1100},{type:"half_grass",size:1,x:300,y:-1100},{type:"win_flag",x:320,y:-1170}]};e.GREEN_AREA_2={data:[{type:"full_grass",size:8,x:-100,y:-70},{type:"half_grass",size:1,x:103,y:-200},{type:"half_grass",size:1,x:200,y:-300},{type:"half_grass",size:1,x:10,y:-350},{type:"half_grass",size:1,x:300,y:-400},{type:"half_grass",size:1,x:50,y:-600},{type:"half_grass",size:1,x:180,y:-500},{type:"half_grass",size:1,x:10,y:-750},{type:"red_wrapped",x:30,y:-800},{type:"green_wrapped",x:80,y:-800},{type:"red_wrapped",x:30,y:-840},{type:"green_wrapped",x:80,y:-840},{type:"red_wrapped",x:30,y:-880},{type:"green_wrapped",x:80,y:-880},{type:"red_wrapped",x:150,y:-960},{type:"green_wrapped",x:200,y:-960},{type:"red_wrapped",x:150,y:-1000},{type:"green_wrapped",x:200,y:-1000},{type:"red_wrapped",x:300,y:-1080},{type:"green_wrapped",x:350,y:-1080},{type:"red_wrapped",x:300,y:-1120},{type:"green_wrapped",x:350,y:-1120},{type:"half_grass",size:1,x:280,y:-1250},{type:"half_grass",size:2,direction:-1,x:10,y:-1400},{type:"half_grass",size:1,x:240,y:-1550},{type:"half_grass",size:1,x:120,y:-1650},{type:"half_sand",size:1,x:10,y:-1750},{type:"half_grass",size:2,x:120,y:-1850},{type:"red_jellybean",x:190,y:-1950},{type:"red_jellybean",x:190,y:-2000},{type:"red_jellybean",x:190,y:-2050},{type:"red_jellybean",x:190,y:-2100},{type:"red_jellybean",x:190,y:-2150},{type:"red_jellybean",x:190,y:-2200},{type:"red_jellybean",x:190,y:-2250},{type:"red_jellybean",x:190,y:-2300},{type:"half_grass",size:2,x:135,y:-2400},{type:"half_grass",size:1,x:10,y:-2500},{type:"win_flag",x:30,y:-2560}]};e.GREEN_AREA_3={data:[{type:"full_grass",size:8,x:-100,y:-70},{type:"half_grass",size:1,x:200,y:-200},{type:"half_grass",size:1,x:100,y:-300},{type:"half_grass",size:1,x:100,y:-300},{type:"half_sand",size:1,x:5,y:-400},{type:"half_grass",size:2,x:200,y:-400},{type:"half_grass",size:1,x:300,y:-550},{type:"half_grass",size:1,x:200,y:-650},{type:"spring",x:235,y:-685},{type:"half_grass",size:1,x:5,y:-650},{type:"half_sand",size:1,x:105,y:-650},{type:"red_jellybean",x:350,y:-1000},{type:"red_jellybean",x:350,y:-1050},{type:"red_jellybean",x:350,y:-1100},{type:"red_jellybean",x:300,y:-1000},{type:"red_jellybean",x:300,y:-1050},{type:"red_jellybean",x:300,y:-1100},{type:"red_jellybean",x:250,y:-1000},{type:"red_jellybean",x:250,y:-1050},{type:"red_jellybean",x:250,y:-1100},{type:"red_jellybean",x:200,y:-1000},{type:"red_jellybean",x:200,y:-1050},{type:"red_jellybean",x:200,y:-1100},{type:"red_jellybean",x:150,y:-1000},{type:"red_jellybean",x:150,y:-1050},{type:"red_jellybean",x:150,y:-1100},{type:"red_jellybean",x:100,y:-1000},{type:"red_jellybean",x:100,y:-1050},{type:"red_jellybean",x:100,y:-1100},{type:"half_sand",size:1,x:10,y:-1200},{type:"half_grass",size:2,x:200,y:-1300},{type:"half_grass",size:2,x:10,y:-1400},{type:"half_grass",direction:1,size:1,x:10,y:-1550},{type:"half_grass",size:2,x:120,y:-1700},{type:"half_sand",size:1,x:300,y:-1800},{type:"green_wrapped",x:100,y:-1850},{type:"red_wrapped",x:150,y:-1850},{type:"green_wrapped",x:30,y:-1950},{type:"red_wrapped",x:80,y:-1950},{type:"red_jellybean",x:50,y:-2050},{type:"red_jellybean",x:50,y:-2150},{type:"red_jellybean",x:50,y:-2250},{type:"red_jellybean",x:50,y:-2350},{type:"red_jellybean",x:50,y:-2450},{type:"red_jellybean",x:50,y:-2550},{type:"red_jellybean",x:50,y:-2650},{type:"red_jellybean",x:50,y:-2750},{type:"red_jellybean",x:50,y:-2850},{type:"red_jellybean",x:50,y:-2950},{type:"half_grass",size:2,x:10,y:-3050},{type:"half_sand",size:1,x:200,y:-3150},{type:"half_grass",size:1,x:300,y:-3250},{type:"spring",x:330,y:-3285},{type:"half_grass",size:2,x:100,y:-3400},{type:"half_grass",size:1,x:300,y:-3700},{type:"half_sand",size:1,x:10,y:-3500},{type:"half_sand",size:1,x:80,y:-3650},{type:"half_grass",size:1,x:180,y:-3800},{type:"win_flag",x:195,y:-3860}]};e.GREEN_AREA_4={data:[{type:"full_grass",size:8,x:-100,y:-70},{type:"half_grass",size:1,x:5,y:-200},{type:"half_grass",size:1,x:303,y:-200},{type:"half_grass",size:1,x:90,y:-350},{type:"half_sand",size:1,x:190,y:-350},{type:"half_sand",size:1,x:290,y:-350},{type:"spring",x:125,y:-385},{type:"red_jellybean",x:130,y:-700},{type:"red_jellybean",x:130,y:-800},{type:"red_jellybean",x:130,y:-900},{type:"red_jellybean",x:70,y:-1000},{type:"red_jellybean",x:40,y:-1100},{type:"red_jellybean",x:140,y:-1200},{type:"red_jellybean",x:240,y:-1250},{type:"red_jellybean",x:340,y:-1300},{type:"red_jellybean",x:240,y:-1400},{type:"red_jellybean",x:140,y:-1450},{type:"red_jellybean",x:40,y:-1500},{type:"half_grass",size:1,x:10,y:-1650},{type:"half_grass",size:1,x:110,y:-1800},{type:"half_grass",size:2,x:110,y:-1950},{type:"half_grass",size:1,direction:1,x:50,y:-2100},{type:"black_fly",direction:1,x:50,y:-2150},{type:"half_grass",size:2,x:110,y:-2250},{type:"half_sand",size:1,x:300,y:-2350},{type:"half_grass",size:1,x:300,y:-2500},{type:"half_sand",size:1,x:200,y:-2650},{type:"half_sand",size:1,x:100,y:-2800},{type:"half_sand",size:1,x:0,y:-2950},{type:"half_grass",size:2,x:0,y:-3100},{type:"half_sand",size:1,x:200,y:-3200},{type:"half_grass",size:2,direction:1,x:10,y:-3350},{type:"half_grass",size:1,x:220,y:-3500},{type:"half_grass",size:1,x:100,y:-3650},{type:"win_flag",x:110,y:-3720}]};e.GREEN_AREA_5={data:[{type:"full_grass",size:8,x:-100,y:-70},{type:"half_grass",size:1,x:250,y:-200},{type:"red_wrapped",x:50,y:-250},{type:"green_wrapped",x:150,y:-350},{type:"red_wrapped",x:250,y:-450},{type:"green_wrapped",x:300,y:-550},{type:"red_wrapped",x:250,y:-700},{type:"green_wrapped",x:150,y:-800},{type:"red_wrapped",x:50,y:-900},{type:"half_grass",size:1,x:10,y:-1050},{type:"half_grass",size:1,x:120,y:-1200},{type:"half_grass",size:2,direction:1,x:10,y:-1350},{type:"red_jellybean",x:110,y:-1450},{type:"red_jellybean",x:110,y:-1550},{type:"red_jellybean",x:110,y:-1650},{type:"red_jellybean",x:110,y:-1750},{type:"red_jellybean",x:110,y:-1850},{type:"red_jellybean",x:110,y:-1950},{type:"red_jellybean",x:110,y:-2050},{type:"red_jellybean",x:200,y:-2150},{type:"red_jellybean",x:200,y:-2250},{type:"red_jellybean",x:200,y:-2350},{type:"red_jellybean",x:200,y:-2450},{type:"red_jellybean",x:200,y:-2550},{type:"red_jellybean",x:200,y:-2650},{type:"red_jellybean",x:200,y:-2750},{type:"red_jellybean",x:300,y:-2850},{type:"red_jellybean",x:300,y:-2950},{type:"red_jellybean",x:300,y:-3050},{type:"red_jellybean",x:300,y:-3150},{type:"red_jellybean",x:300,y:-3250},{type:"red_jellybean",x:300,y:-3350},{type:"red_jellybean",x:300,y:-3450},{type:"red_jellybean",x:300,y:-3550},{type:"red_jellybean",x:300,y:-3650},{type:"half_grass",size:1,x:250,y:-3750},{type:"half_grass",size:1,x:130,y:-3900},{type:"half_grass",size:1,x:10,y:-4000},{type:"spring",x:30,y:-4035},{type:"red_wrapped",x:40,y:-4500},{type:"red_wrapped",x:40,y:-4550},{type:"red_wrapped",x:40,y:-4600},{type:"red_wrapped",x:40,y:-4650},{type:"red_wrapped",x:40,y:-4700},{type:"red_wrapped",x:40,y:-4750},{type:"half_grass",size:1,x:10,y:-4850},{type:"half_sand",size:1,x:150,y:-5000},{type:"half_sand",size:1,x:300,y:-5150},{type:"half_grass",size:2,x:100,y:-5250},{type:"spring",x:120,y:-5285},{type:"red_wrapped",x:135,y:-5800},{type:"red_wrapped",x:135,y:-5850},{type:"red_wrapped",x:135,y:-5900},{type:"red_wrapped",x:135,y:-5950},{type:"red_wrapped",x:135,y:-6000},{type:"red_wrapped",x:135,y:-6050},{type:"green_wrapped",x:135,y:-6100},{type:"green_wrapped",x:135,y:-6150},{type:"green_wrapped",x:135,y:-6200},{type:"green_wrapped",x:135,y:-6250},{type:"green_wrapped",x:135,y:-6300},{type:"green_wrapped",x:135,y:-6350},{type:"green_wrapped",x:135,y:-6400},{type:"half_grass",size:1,x:100,y:-6800},{type:"half_grass",size:1,x:250,y:-6900},{type:"win_flag",x:270,y:-6970}]};e.GREEN_AREA_6={data:[{type:"full_grass",size:8,x:-100,y:-70},{type:"half_grass",size:1,x:180,y:-200},{type:"half_grass",size:1,x:300,y:-300},{type:"half_grass",size:1,x:170,y:-400},{type:"half_grass",size:1,x:20,y:-500},{type:"half_sand",size:1,x:150,y:-600},{type:"half_grass",size:1,x:300,y:-700},{type:"half_sand",size:1,x:150,y:-800},{type:"black_fly",direction:1,x:50,y:-850},{type:"half_grass",size:1,x:150,y:-950},{type:"half_sand",size:1,x:20,y:-1050},{type:"half_sand",size:1,x:150,y:-1150},{type:"half_sand",size:1,x:300,y:-1250},{type:"half_sand",size:1,x:150,y:-1350},{type:"half_sand",size:1,x:20,y:-1450},{type:"red_wrapped",x:50,y:-1550},{type:"red_wrapped",x:50,y:-1650},{type:"red_wrapped",x:50,y:-1750},{type:"red_wrapped",x:50,y:-1850},{type:"red_wrapped",x:50,y:-1950},{type:"red_wrapped",x:50,y:-2050},{type:"half_grass",size:1,x:20,y:-2150},{type:"half_grass",size:1,direction:1,x:20,y:-2300},{type:"half_grass",size:2,x:250,y:-2400},{type:"half_sand",size:1,x:130,y:-2500},{type:"half_sand",size:1,x:20,y:-2600},{type:"half_sand",size:1,x:150,y:-2700},{type:"half_sand",size:1,x:300,y:-2800},{type:"half_sand",size:1,x:150,y:-2900},{type:"half_sand",size:1,x:20,y:-3000},{type:"half_sand",size:1,x:150,y:-3100},{type:"half_sand",size:1,x:300,y:-3200},{type:"half_sand",size:1,x:150,y:-3300},{type:"half_sand",size:1,x:20,y:-3400},{type:"half_sand",size:1,x:150,y:-3500},{type:"half_sand",size:1,x:300,y:-3600},{type:"half_grass",size:1,x:150,y:-3700},{type:"spring",x:175,y:-3735},{type:"half_grass",size:1,x:150,y:-4200},{type:"red_jellybean",x:50,y:-4300},{type:"red_jellybean",x:50,y:-4400},{type:"red_jellybean",x:50,y:-4500},{type:"red_jellybean",x:50,y:-4600},{type:"red_jellybean",x:50,y:-4700},{type:"red_jellybean",x:50,y:-4800},{type:"red_jellybean",x:50,y:-4900},{type:"red_jellybean",x:50,y:-5000},{type:"half_grass",size:1,x:20,y:-5100},{type:"half_grass",size:1,x:150,y:-5200},{type:"half_sand",size:1,x:300,y:-5300},{type:"black_fly",direction:1,x:50,y:-5400},{type:"half_sand",size:1,x:300,y:-5450},{type:"half_grass",size:1,x:150,y:-5550},{type:"half_grass",size:1,x:20,y:-5650},{type:"black_fly",direction:1,x:300,y:-5750},{type:"half_sand",size:1,x:20,y:-5800},{type:"half_grass",size:2,x:150,y:-5900},{type:"red_wrapped",x:320,y:-6000},{type:"green_wrapped",x:370,y:-6000},{type:"red_wrapped",x:320,y:-6050},{type:"green_wrapped",x:370,y:-6050},{type:"red_wrapped",x:150,y:-6100},{type:"green_wrapped",x:200,y:-6100},{type:"red_wrapped",x:150,y:-6150},{type:"green_wrapped",x:200,y:-6150},{type:"red_wrapped",x:30,y:-6200},{type:"green_wrapped",x:80,y:-6200},{type:"red_wrapped",x:30,y:-6250},{type:"green_wrapped",x:80,y:-6250},{type:"half_grass",size:1,x:30,y:-6350},{type:"half_grass",size:1,x:150,y:-6450},{type:"half_grass",size:1,x:300,y:-6550},{type:"black_fly",direction:1,x:30,y:-6600},{type:"half_grass",size:1,direction:1,x:150,y:-6650},{type:"half_grass",size:1,x:30,y:-6750},{type:"half_grass",size:1,direction:1,x:150,y:-6850},{type:"half_grass",size:1,direction:1,x:300,y:-6950},{type:"half_grass",size:1,direction:1,x:150,y:-7050},{type:"half_grass",size:1,direction:1,x:30,y:-7150},{type:"half_grass",size:1,x:150,y:-7300},{type:"half_grass",size:1,x:300,y:-7400},{type:"win_flag",x:320,y:-7470}]};e.LIST=[e.GREEN_AREA,e.GREEN_AREA_2,e.GREEN_AREA_3,e.GREEN_AREA_4,e.GREEN_AREA_5,e.GREEN_AREA_6];return e})();d.LevelData=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(){this._textureList=[];this.rect=new PIXI.Rectangle(0,0,0,0);this._direction=0;this._textureList=[PIXI.Texture.fromFrame("flyFly1"),PIXI.Texture.fromFrame("flyFly2")];this.gfx=new PIXI.MovieClip(this._textureList);this.gfx.loop=true;this.gfx.anchor.x=0.5;this.gfx.anchor.y=0.5;this.gfx.animationSpeed=0.2;this.gfx.gotoAndPlay(0);this.rect.width=this.gfx.width-25;this.rect.height=this.gfx.height-10}e.prototype.update=function(){if(this._direction==0){return}this.gfx.position.x+=this._direction;this.gfx.scale.x=this._direction*-1;if((this.gfx.position.x)>=d.GameMain.GAME_DIMENSION.width||this.gfx.position.x<=0){this._direction*=-1}this.rect.x=(this.gfx.position.x)-(this.rect.width>>1);this.rect.y=(this.gfx.position.y)-(this.rect.height>>1)};e.prototype.setDirection=function(f){this._direction=f};e.prototype.setPosition=function(g,f){this.rect.x=g-(this.rect.width>>1);this.rect.y=f-(this.rect.height>>1);this.gfx.position.x=g;this.gfx.position.y=f};e.prototype.dispose=function(){d.DisplayObjectUtils.removeAllChildren(this.gfx);if(this._textureList){this._textureList.length=0;this._textureList=null}this.rect=null;this.gfx=null};return e})();d.BlackFly=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(){this.rect=new PIXI.Rectangle(0,0,0,0);this.isAlive=true;this.canRemove=false;this.gfx=new PIXI.MovieClip(this.textureList);this.gfx.gotoAndStop(0);this.gfx.scale=new PIXI.Point(0.5,0.5);this.gfx.anchor=new PIXI.Point(0.5,0.5);this.gfx.animationSpeed=0.5;this.gfx.loop=false;this.rect.width=this.gfx.width;this.rect.height=this.gfx.height;this.gfx.onComplete=function(){this.canRemove=true}.bind(this)}e.prototype.getScore=function(){return 0};e.prototype.explode=function(){this.isAlive=false;this.gfx.gotoAndPlay(1)};e.prototype.setPosition=function(g,f){this.rect.x=g-(this.gfx.width>>1);this.rect.y=f-(this.gfx.height>>1);this.gfx.position.x=g;this.gfx.position.y=f};e.prototype.update=function(){};e.prototype.dispose=function(){if(this.textureList){this.textureList.length=0}this.textureList=null;this.rect=null;this.gfx=null};return e})();d.BaseCandy=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(e){__extends(f,e);function f(){this.textureList=[PIXI.Texture.fromFrame("bean_red"),PIXI.Texture.fromFrame("explosionred01"),PIXI.Texture.fromFrame("explosionred02"),PIXI.Texture.fromFrame("explosionred03"),PIXI.Texture.fromFrame("explosionred04"),PIXI.Texture.fromFrame("explosionred05")];e.call(this)}f.prototype.getScore=function(){return 100};return f})(d.BaseCandy);d.RedJellyBean=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(f){__extends(e,f);function e(){this.textureList=[PIXI.Texture.fromFrame("wrappedsolid_green"),PIXI.Texture.fromFrame("explosiongreen01"),PIXI.Texture.fromFrame("explosiongreen02"),PIXI.Texture.fromFrame("explosiongreen03"),PIXI.Texture.fromFrame("explosiongreen04"),PIXI.Texture.fromFrame("explosiongreen05")];f.call(this)}e.prototype.getScore=function(){return 50};return e})(d.BaseCandy);d.GreenWrapped=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(f){__extends(e,f);function e(){this.textureList=[PIXI.Texture.fromFrame("wrappedsolid_red"),PIXI.Texture.fromFrame("explosionred01"),PIXI.Texture.fromFrame("explosionred02"),PIXI.Texture.fromFrame("explosionred03"),PIXI.Texture.fromFrame("explosionred04"),PIXI.Texture.fromFrame("explosionred05")];f.call(this)}e.prototype.getScore=function(){return 100};return e})(d.BaseCandy);d.RedWrapped=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(){this._textureList=[];this.rect=new PIXI.Rectangle(0,0,0,0);this.isWave=false;this._deadFlag=PIXI.Sprite.fromFrame(e.DEFUALT_FRAME);this._textureList=[PIXI.Texture.fromFrame("flagBlue"),PIXI.Texture.fromFrame("flagBlue2")];this._flagWaving=new PIXI.MovieClip(this._textureList);this._flagWaving.loop=true;this._flagWaving.animationSpeed=0.1;this.gfx=new PIXI.DisplayObjectContainer();this.gfx.addChild(this._deadFlag);this.rect.width=this._deadFlag.width;this.rect.height=this._deadFlag.height}e.prototype.waveFlag=function(){this.isWave=true;d.DisplayObjectUtils.removeAllChildren(this.gfx);this.gfx.addChild(this._flagWaving);this._flagWaving.gotoAndPlay(1)};e.prototype.setPosition=function(g,f){this.rect.x=g;this.rect.y=f;this.gfx.position.x=g;this.gfx.position.y=f};e.prototype.dispose=function(){d.DisplayObjectUtils.removeAllChildren(this.gfx);if(this._textureList){this._textureList.length=0;this._textureList=null}this._flagWaving=null;this._deadFlag=null;this.rect=null;this.gfx=null};e.DEFUALT_FRAME="flagBlueHanging";return e})();d.WinFlag=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(){}e.isColliding=function(g,f){return !((f.x>(g.x+g.width))||((f.x+f.width)<g.x)||(f.y>(g.y+g.height))||((f.y+f.height)<g.y))};return e})();d.RectUtils=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(){}e.init=function(){if(e.isSFXLoaded==true){return}if(e.isLoadError==true){return}this._sfx=new Howl({urls:["assets/audiosprite.ogg","assets/audiosprite.mp3"],sprite:{click:[0,261],drop:[2000,522],level_complete:[4000,3005],lose:[9000,1724],pickup:[12000,626]},onplay:function(){e.isSFXPlaying=true},onend:function(){e.isSFXPlaying=false},onload:function(){e.isSFXLoaded=true;var f={};f.type=d.GameEventType.SOUND_LOADED;e.event.dispatchEvent(f)},onloaderror:function(){e.isSFXLoaded=false;e.isLoadError=true;var f={};f.type=d.GameEventType.SOUND_ERROR;e.event.dispatchEvent(f)}})};e.canPlay=function(){return e.isSFXLoaded&&e.muteState==false};e.playPickup=function(){if(e.canPlay()==true&&e.canPlayPickup==true){this._sfx.play("pickup",function(f){});e.canPlayPickup=false;window.setTimeout(function(){e.canPlayPickup=true},700)}};e.playClick=function(){if(e.canPlay()==false){return}this._sfx.play("click")};e.playLose=function(){if(e.canPlay()==false){return}this._sfx.play("lose")};e.playDrop=function(){if(e.canPlay()==false){return}this._sfx.play("drop")};e.playLevelComplete=function(){if(e.canPlay()==false){return}this._sfx.play("level_complete")};e.mute=function(f){e.muteState=f;if(f){Howler.mute()}else{Howler.unmute()}};e.event=new PIXI.EventTarget();e.isSFXPlaying=false;e.isSFXLoaded=false;e.isLoadError=false;e.canPlayPickup=true;e.muteState=false;return e})();d.SoundManager=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(f){this._list=[];this._debugDraw=false;this._dieFlag=false;this._container=f;this._rectContainer=new PIXI.DisplayObjectContainer();this._container.addChild(this._rectContainer)}e.prototype.showLevel=function(g){if(g>=d.LevelData.LIST.length){return}var f=d.LevelData.LIST[g]["data"];this._dieFlag=false;this.parseJSON(f)};e.prototype.parseJSON=function(j){for(var h=j.length-1;h>=0;h--){var g=j[h];var f;if(g.type=="full_grass"){f=new d.FullGrass(g.size)}else{if(g.type=="half_grass"){f=new d.HalfGrass(g.size)}else{if(g.type=="half_sand"){f=new d.HalfSand(g.size)}else{if(g.type=="red_jellybean"){f=new d.RedJellyBean()}else{if(g.type=="green_wrapped"){f=new d.GreenWrapped()}else{if(g.type=="red_wrapped"){f=new d.RedWrapped()}else{if(g.type=="win_flag"){f=new d.WinFlag()}else{if(g.type=="spring"){f=new d.SpringPlatform()}else{if(g.type=="black_fly"){f=new d.BlackFly()}}}}}}}}}this._container.addChild(f.gfx);f.setPosition(g.x,g.y);if(g.direction){f.setDirection(g.direction)}this._list.push(f)}};e.prototype.init=function(f){this._hero=f};e.prototype.update=function(){if(this._hero){d.DisplayObjectUtils.removeAllChildren(this._rectContainer);for(var g=this._list.length-1;g>=0;g--){var j=this._list[g];if(g==this._list.length-1){if(this._hero.allowHitTest&&this._hero.isAlive==true&&this._dieFlag==false){if(this._hero.gfx.position.y>j.rect.y+100){this._dieFlag=true;d.SoundManager.playLose();this._hero.die();break}}}if(this._debugDraw==true){if(j.rect){var f=new PIXI.Graphics();f.lineStyle(1,16711680);f.drawRect(j.rect.x,j.rect.y,j.rect.width,j.rect.height);this._rectContainer.addChild(f)}var h=new PIXI.Graphics();h.lineStyle(1,16711680);h.drawRect(this._hero.rect.x,this._hero.rect.y,this._hero.rect.width,this._hero.rect.height);this._rectContainer.addChild(h)}if(j.gfx.position.y>(d.GameMain.GAME_DIMENSION.height-this._container.position.y+200)){this._container.removeChild(j.gfx);j.dispose();j=null;this._list.splice(g,1);continue}if(j instanceof d.BaseCandy){if(j.isAlive){if(d.RectUtils.isColliding(this._hero.rect,j.rect)){d.SoundManager.playPickup();this._hero.updateScore(j.getScore());this._hero.candyPickup();j.explode();this._hero.changeDirectionToJump();break}}else{if(j.canRemove){this._container.removeChild(j.gfx);j.dispose();j=null;this._list.splice(g,1);break}}}else{if(j instanceof d.BasePlatform){j.update();if(this._hero.allowHitTest&&this._hero.isAlive&&(this._hero.gfx.position.y>=j.rect.y&&this._hero.gfx.position.y<=j.rect.y+10)&&((this._hero.gfx.position.x+10)>=j.rect.x&&(this._hero.gfx.position.x-10)<=j.rect.x+j.rect.width)){if(j.isAlive){if(this._hero.isLevelComplete==false){d.SoundManager.playDrop()}this._hero.changeDirectionToJump()}if(j instanceof d.HalfSand){if(j.isAlive){j.explode()}else{if(j.canRemove){j.dispose();j=null;this._list.splice(g,1)}}}break}}else{if(j instanceof d.WinFlag){if(this._hero.allowHitTest&&this._hero.isAlive&&j.isWave==false&&(this._hero.gfx.position.y>=j.rect.y&&this._hero.gfx.position.y<=j.rect.y+10)&&((this._hero.gfx.position.x+10)>=j.rect.x&&(this._hero.gfx.position.x-10)<=j.rect.x+j.rect.width)){d.SoundManager.playLevelComplete();this._hero.levelComplete();j.waveFlag();break}}else{if(j instanceof d.SpringPlatform){if(this._hero.allowHitTest&&this._hero.isAlive&&j.isBounce==false&&(this._hero.gfx.position.y>=j.rect.y&&this._hero.gfx.position.y<=j.rect.y+10)&&((this._hero.gfx.position.x+10)>=j.rect.x&&(this._hero.gfx.position.x-10)<=j.rect.x+j.rect.width)){d.SoundManager.playPickup();j.bounce();this._hero.bounce();break}}else{if(j instanceof d.BlackFly){j.update();if(this._hero.isAlive&&d.RectUtils.isColliding(this._hero.rect,j.rect)&&this._dieFlag==false){this._dieFlag=true;d.SoundManager.playLose();this._hero.die();break}}}}}}}if((this._hero.gfx.position.y>=100||this._list.length==0)&&this._dieFlag==false){this._dieFlag=true;d.SoundManager.playLose();this._hero.die()}}};e.prototype.getTotalLevels=function(){return d.LevelData.LIST.length};e.prototype.clearLevel=function(){d.DisplayObjectUtils.removeAllChildren(this._rectContainer);for(var f=this._list.length-1;f>=0;f--){var g=this._list[f];this._container.removeChild(g.gfx);g.dispose();g=null;this._list.splice(f,1)}this._list.length=0;if(this._hero){this._hero.dispose();this._hero=null}};e.prototype.dispose=function(){this.clearLevel();this._rectContainer=null;this._container=null};return e})();d.PlatformManager=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(f){this.scoreValue=-1;this._container=f;this._gfx=new PIXI.DisplayObjectContainer();this._gfx.position.x=5;this._gfx.position.y=5;this._gfx.scale=new PIXI.Point(0.5,0.5);this._container.addChild(this._gfx)}e.prototype.setScore=function(g){if(this.scoreValue==g){return}this.scoreValue=g;d.DisplayObjectUtils.removeAllChildren(this._gfx);var j=this.scoreValue.toString();var f=0;for(var h=0;h<j.length;h++){this._digit=PIXI.Sprite.fromFrame(e.FRAME_PREFIX+j.charAt(h).toString());this._digit.position.x=f;this._gfx.addChild(this._digit);f+=this._digit.width}};e.prototype.clear=function(){if(this._gfx){d.DisplayObjectUtils.removeAllChildren(this._gfx)}};e.prototype.dispose=function(){if(this._gfx){d.DisplayObjectUtils.removeAllChildren(this._gfx);this._gfx=null}this._container=null;this._digit=null};e.FRAME_PREFIX="hud_";return e})();d.ScoreArea=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(g){this._container=g;this._pausedGfx=PIXI.Sprite.fromFrame(e.FRAME_PAUSED);var f=this._pausedGfx.width;this._pausedGfx.position.x=(d.GameMain.GAME_DIMENSION.width>>1)-(f>>1);this._pausedGfx.position.y=200;if(d.DeviceUtils.isMobileDevice()){this._resumeGfx=PIXI.Sprite.fromFrame(e.FRAME_TAP)}else{this._resumeGfx=PIXI.Sprite.fromFrame(e.FRAME_CLICK)}this._resumeGfx.scale=new PIXI.Point(0.7,0.7);f=this._resumeGfx.width;this._resumeGfx.position.x=((d.GameMain.GAME_DIMENSION.width>>1)-(f>>1))-5;this._resumeGfx.position.y=this._pausedGfx.position.y+this._pausedGfx.height+50}e.prototype.show=function(){this.hide();this._container.addChild(this._pausedGfx);this._container.addChild(this._resumeGfx)};e.prototype.hide=function(){if(this._pausedGfx.parent){this._container.removeChild(this._pausedGfx)}if(this._resumeGfx.parent){this._container.removeChild(this._resumeGfx)}};e.prototype.dispose=function(){this._resumeGfx=null;this._pausedGfx=null;this._container=null};e.FRAME_PAUSED="paused";e.FRAME_TAP="tap_to_resume";e.FRAME_CLICK="click_to_resume";return e})();d.PauseArea=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(f){this.isVisible=false;this._container=f;if(d.DeviceUtils.isMobileDevice()){this._playGfx=PIXI.Sprite.fromFrame(e.FRAME_TAP)}else{this._playGfx=PIXI.Sprite.fromFrame(e.FRAME_CLICK)}this._playGfx.scale=new PIXI.Point(0.8,0.8);this._playGfx.position.x=(d.GameMain.GAME_DIMENSION.width>>1)-(this._playGfx.width>>1);this._playGfx.position.y=400;this._playGfx.alpha=0;this._gameOverGfx=PIXI.Sprite.fromFrame(e.FRAME_GAMEOVER);this._gameOverGfx.position.x=(d.GameMain.GAME_DIMENSION.width>>1)-(this._gameOverGfx.width>>1);this._gameOverGfx.position.y=200;this._gameOverGfx.alpha=0;this._gameCompleteGfx=PIXI.Sprite.fromFrame(e.FRAME_GAMECOMPLETE);this._gameCompleteGfx.position.x=(d.GameMain.GAME_DIMENSION.width>>1)-(this._gameCompleteGfx.width>>1);this._gameCompleteGfx.position.y=100;this._gameCompleteGfx.alpha=0;this._levelCompleteGfx=PIXI.Sprite.fromFrame(e.FRAME_LEVELCOMPLETE);this._levelCompleteGfx.position.x=(d.GameMain.GAME_DIMENSION.width>>1)-(this._levelCompleteGfx.width>>1);this._levelCompleteGfx.position.y=100;this._levelCompleteGfx.alpha=0;this._totalScoreContainer=new PIXI.DisplayObjectContainer();var g=PIXI.Sprite.fromFrame("score");this._totalScoreContainer.addChild(g);this._scoreDigits=new PIXI.DisplayObjectContainer();this._scoreDigits.scale=new PIXI.Point(0.7,0.7);this._scoreDigits.position.x=g.width;this._scoreDigits.position.y=5;this._totalScoreContainer.addChild(this._scoreDigits);this._totalScoreContainer.alpha=0}e.prototype.update=function(){if(this._playGfx){if(this._playGfx.alpha<1){this._playGfx.alpha+=0.1}}if(this._gameOverGfx){if(this._gameOverGfx.alpha<1){this._gameOverGfx.alpha+=0.1}}if(this._gameCompleteGfx){if(this._gameCompleteGfx.alpha<1){this._gameCompleteGfx.alpha+=0.1}}if(this._levelCompleteGfx){if(this._levelCompleteGfx.alpha<1){this._levelCompleteGfx.alpha+=0.1}}if(this._totalScoreContainer){if(this._totalScoreContainer.alpha<1){this._totalScoreContainer.alpha+=0.1}}};e.prototype.setScores=function(m,h){d.DisplayObjectUtils.removeAllChildren(this._scoreDigits);var g;var l;var f=0;var k=h.toString();for(g=0;g<k.length;g++){l=PIXI.Sprite.fromFrame(e.FRAME_NUMBERS+k.charAt(g).toString());l.position.x=f;this._scoreDigits.addChild(l);f+=l.width}var j=this._scoreDigits.position.x+f;this._totalScoreContainer.position.y=this._gameOverGfx.position.y+this._gameOverGfx.height+50;this._totalScoreContainer.position.x=15+(d.GameMain.GAME_DIMENSION.width>>1)-(j>>1)};e.prototype.showLevelComplete=function(){if(this.isVisible==true){return}this.isVisible=true;this._container.addChild(this._levelCompleteGfx);this._container.addChild(this._playGfx);this._totalScoreContainer.alpha=1;this._container.addChild(this._totalScoreContainer)};e.prototype.showGameComplete=function(){if(this.isVisible==true){return}this.isVisible=true;this._container.addChild(this._gameCompleteGfx);this._container.addChild(this._playGfx);this._totalScoreContainer.alpha=1;this._container.addChild(this._totalScoreContainer)};e.prototype.showGameOver=function(){if(this.isVisible==true){return}this.isVisible=true;this._container.addChild(this._gameOverGfx);this._container.addChild(this._playGfx);this._container.addChild(this._totalScoreContainer)};e.prototype.clear=function(){this._playGfx.alpha=0;if(this._playGfx.parent){this._container.removeChild(this._playGfx)}if(this._gameOverGfx.parent){this._container.removeChild(this._gameOverGfx)}if(this._gameCompleteGfx.parent){this._container.removeChild(this._gameCompleteGfx)}if(this._levelCompleteGfx.parent){this._container.removeChild(this._levelCompleteGfx)}if(this._totalScoreContainer){if(this._totalScoreContainer.parent){this._container.removeChild(this._totalScoreContainer)}}this._totalScoreContainer.alpha=0};e.prototype.hide=function(){this.isVisible=false;this.clear()};e.prototype.dispose=function(){this.clear();if(this._totalScoreContainer){d.DisplayObjectUtils.removeAllChildren(this._totalScoreContainer)}this._playGfx=null;this._totalScoreContainer=null;this._gameCompleteGfx=null;this._gameOverGfx=null;this._totalScoreContainer=null;this._container=null};e.FRAME_NUMBERS="hud_";e.FRAME_GAMEOVER="gameover";e.FRAME_GAMECOMPLETE="gamecomplete";e.FRAME_LEVELCOMPLETE="level_complete";e.FRAME_TAP="tap_to_play";e.FRAME_CLICK="click_to_play";return e})();d.GameOverArea=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(e){__extends(f,e);function f(g){e.call(this);this._listRect=[];this._hitRect=new PIXI.Rectangle(0,0,0,0);this._ratioX=1;this._ratioY=1;this._soundFlag=true;this._container=g;this._menuGfx=PIXI.Sprite.fromFrame("menu_button");this._menuGfx.position.x=d.GameMain.GAME_DIMENSION.width-this._menuGfx.width;this._menuGfx.position.y=2;this._pauseGfx=PIXI.Sprite.fromFrame("pause_icon");this._pauseGfx.position.x=this._menuGfx.position.x-this._pauseGfx.width;this._pauseGfx.position.y=2;this._soundOnGfx=PIXI.Sprite.fromFrame("sound_on_icon");this._soundOnGfx.position.x=this._pauseGfx.position.x-this._soundOnGfx.width;this._soundOnGfx.position.y=2;this._soundOffGfx=PIXI.Sprite.fromFrame("sound_off_icon");this._soundOffGfx.position.x=this._pauseGfx.position.x-this._soundOffGfx.width;this._soundOffGfx.position.y=2;this._listRect.push(new PIXI.Rectangle(this._menuGfx.position.x,this._menuGfx.position.y,this._menuGfx.width,this._menuGfx.height));this._container.addChild(this._menuGfx);this._listRect.push(new PIXI.Rectangle(this._pauseGfx.position.x,this._pauseGfx.position.y,this._pauseGfx.width,this._pauseGfx.height));this._container.addChild(this._pauseGfx);this._listRect.push(new PIXI.Rectangle(this._soundOnGfx.position.x,this._soundOnGfx.position.y,this._soundOnGfx.width,this._soundOnGfx.height));this._container.addChild(this._soundOnGfx);this._container.addChild(this._soundOffGfx);this._soundOffGfx.visible=false;this._soundFlag=!d.SoundManager.muteState;if(this._soundFlag==true){this._soundOnGfx.visible=true}else{this._soundOffGfx.visible=true}this.onWindowClickHL=this.onWindowClickHL.bind(this);this.onWindowTouchHL=this.onWindowTouchHL.bind(this);this._divArea=document.getElementById("container");this.enable(true)}f.prototype.enable=function(g){if(this._divArea){this._divArea.removeEventListener("click",this.onWindowClickHL,false);this._divArea.removeEventListener("touchstart",this.onWindowTouchHL,false);if(g){this._divArea.addEventListener("click",this.onWindowClickHL,false);this._divArea.addEventListener("touchstart",this.onWindowTouchHL,false);this._menuGfx.alpha=1;this._soundOffGfx.alpha=1;this._soundOnGfx.alpha=1;this._pauseGfx.alpha=1}else{this._menuGfx.alpha=0.6;this._soundOffGfx.alpha=0.6;this._soundOnGfx.alpha=0.6;this._pauseGfx.alpha=0.6}}};f.prototype.resizeGameForMobile=function(h,g){this._ratioX=d.GameMain.GAME_DIMENSION.width/h;this._ratioY=d.GameMain.GAME_DIMENSION.height/g};f.prototype.onWindowTouchHL=function(j){var k=j.touches[0];var i=this._divArea.getBoundingClientRect();var h=k.clientX-i.left;var g=k.clientY-i.top;this.hitTestMousePosition(h,g);j.preventDefault()};f.prototype.onWindowClickHL=function(j){var i=this._divArea.getBoundingClientRect();var h=j.offsetX?j.offsetX:j.clientX-i.left;var g=j.offsetY?j.offsetY:j.clientY-i.top;this.hitTestMousePosition(h,g);j.preventDefault()};f.prototype.hitTestMousePosition=function(j,g){j=j*this._ratioX;g=g*this._ratioY;for(var h=0;h<this._listRect.length;h++){this._hitRect=new PIXI.Rectangle(this._listRect[h].x,this._listRect[h].y,this._listRect[h].width,this._listRect[h].height);if(this._hitRect.contains(j,g)){var k={};if(h==0){d.SoundManager.playClick();k.type=d.GameEventType.SHOW_MENU_FROM_GAME;this.dispatchEvent(k);break}else{if(h==1){d.SoundManager.playClick();k.type=d.GameEventType.TOGGLE_PAUSE;this.dispatchEvent(k);break}else{if(h==2){d.SoundManager.playClick();k.type=d.GameEventType.TOGGLE_MUTE;this.dispatchEvent(k);break}}}}}};f.prototype.toggleMute=function(){this._soundFlag=!this._soundFlag;this._soundOffGfx.visible=false;this._soundOnGfx.visible=false;if(this._soundFlag==true){this._soundOnGfx.visible=true}else{this._soundOffGfx.visible=true}d.SoundManager.mute(!this._soundFlag)};f.prototype.update=function(){};f.prototype.dispose=function(){if(this._divArea){this._divArea.removeEventListener("click",this.onWindowClickHL,false);this._divArea.removeEventListener("touchstart",this.onWindowTouchHL,false);this._divArea=null}this._listRect.length=0;this._listRect=null;this._hitRect=null;this._menuGfx=null;this._pauseGfx=null;this._soundOffGfx=null;this._soundOnGfx=null;this._container=null};return f})(PIXI.EventTarget);d.TopControlsArea=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(e){__extends(f,e);function f(){e.call(this);this._canAnimate=false;var g=document.getElementById("hud_area");this._stage=new PIXI.Stage(16777215,false);if(d.DeviceUtils.renderInWebGL()){this._renderer=PIXI.autoDetectRenderer(d.GameMain.GAME_DIMENSION.width,d.GameMain.GAME_DIMENSION.height,g,true)}else{this._renderer=new PIXI.CanvasRenderer(d.GameMain.GAME_DIMENSION.width,d.GameMain.GAME_DIMENSION.height,g,true)}this.init()}f.prototype.init=function(){this._container=new PIXI.DisplayObjectContainer();this._stage.addChild(this._container);this._scoreArea=new d.ScoreArea(this._container);this._scoreArea.setScore(0);this._pauseArea=new d.PauseArea(this._container);this._gameOverArea=new d.GameOverArea(this._container);this._topControls=new d.TopControlsArea(this._container);this.onGamePause=this.onGamePause.bind(this);this.onToggleMuteHL=this.onToggleMuteHL.bind(this);this.onShowMenuFromGame=this.onShowMenuFromGame.bind(this);this.update=this.update.bind(this);this.animate=this.animate.bind(this);if(this._topControls){this._topControls.addEventListener(d.GameEventType.TOGGLE_PAUSE,this.onGamePause);this._topControls.addEventListener(d.GameEventType.TOGGLE_MUTE,this.onToggleMuteHL);this._topControls.addEventListener(d.GameEventType.SHOW_MENU_FROM_GAME,this.onShowMenuFromGame)}this.update()};f.prototype.onShowMenuFromGame=function(g){var h={};h.type=d.GameEventType.SHOW_MENU_FROM_GAME;this.dispatchEvent(h)};f.prototype.onGamePause=function(g){var h={};h.type=d.GameEventType.TOGGLE_PAUSE;this.dispatchEvent(h)};f.prototype.onToggleMuteHL=function(g){if(this._topControls){this._topControls.toggleMute()}this.update()};f.prototype.setScore=function(g){if(this._scoreArea.scoreValue!=g){this._scoreArea.setScore(g);this.update()}};f.prototype.showPause=function(g){if(g){this._pauseArea.show();this._topControls.enable(false)}else{this._pauseArea.hide();this._topControls.enable(true)}this.update()};f.prototype.showGameOver=function(h,g){if(this._gameOverArea.isVisible==false){this._topControls.enable(false);this._scoreArea.clear();this._gameOverArea.setScores(h,g);this._gameOverArea.showGameOver();this._canAnimate=true;this.animate()}};f.prototype.showLevelComplete=function(h,g){if(this._gameOverArea.isVisible==false){this._scoreArea.clear();this._gameOverArea.setScores(h,g);this._gameOverArea.showLevelComplete();this._canAnimate=true;this.animate()}};f.prototype.showGameComplete=function(h,g){if(this._gameOverArea.isVisible==false){this._topControls.enable(false);this._scoreArea.clear();this._gameOverArea.setScores(h,g);this._gameOverArea.showGameComplete();this._canAnimate=true;this.animate()}};f.prototype.hideGameOver=function(){if(this._gameOverArea.isVisible==true){this._topControls.enable(true);this._gameOverArea.hide();this._canAnimate=false;this.animate()}};f.prototype.resizeGameForMobile=function(g,h){this._renderer.view.style.height=h+"px";this._renderer.view.style.width=g+"px";if(this._topControls){this._topControls.resizeGameForMobile(g,h)}};f.prototype.animate=function(){if(this._gameOverArea){if(this._gameOverArea.isVisible){this._gameOverArea.update()}}this.update();if(this._canAnimate){requestAnimFrame(this.animate)}};f.prototype.update=function(){if(this._renderer&&this._stage){this._renderer.render(this._stage)}};f.prototype.dispose=function(){if(this._container){d.DisplayObjectUtils.removeAllChildren(this._container)}if(this._scoreArea){this._scoreArea.dispose();this._scoreArea=null}if(this._pauseArea){this._pauseArea.dispose();this._pauseArea=null}if(this._gameOverArea){this._gameOverArea.dispose();this._gameOverArea=null}if(this._topControls){this._topControls.removeEventListener(d.GameEventType.TOGGLE_PAUSE,this.onGamePause);this._topControls.removeEventListener(d.GameEventType.TOGGLE_MUTE,this.onToggleMuteHL);this._topControls.removeEventListener(d.GameEventType.SHOW_MENU_FROM_GAME,this.onToggleMuteHL);this._topControls.dispose();this._topControls=null}this._container=null;this.update();this._stage=null;this._renderer=null};return f})(PIXI.EventTarget);d.HudArea=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(g){this._list=[];this._container=g;for(var h=0;h<6;h++){var f=PIXI.Sprite.fromFrame(e.FRAME_CLOUD[Math.floor(Math.random()*2)]);f.alpha=0.9;var j=this.getRandomScale();f.scale.x=j;f.scale.y=j;f.position.x=this.getRandomX(f.width,h);f.position.y=this.getRandomY();this._container.addChild(f);this._list.push(f)}}e.prototype.getRandomScale=function(){return(Math.floor((Math.random()*1)*10)/10)+0.5};e.prototype.getRandomX=function(g,f){return(((f+1)*100)+g)*-1};e.prototype.getRandomY=function(){return Math.floor(Math.random()*d.GameMain.GAME_DIMENSION.height)};e.prototype.update=function(){for(var f=0;f<this._list.length;f++){this._list[f].position.x+=0.5;if(this._list[f].position.x>d.GameMain.GAME_DIMENSION.width+50){this._list[f].position.x=this.getRandomX(this._list[f].width,f);this._list[f].position.y=this.getRandomY();var g=this.getRandomScale();this._list[f].scale.x=g;this._list[f].scale.y=g}}};e.prototype.dispose=function(){this._list.length=0;this._list=null;this._container=null};e.FRAME_CLOUD=["cloud1","cloud2","cloud3"];return e})();d.CloudsDisplay=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(f){__extends(e,f);function e(g){f.call(this);this._creditsWidth=0;this._isClick=false;this._container=g;if(d.DeviceUtils.isMobileDevice()){this._playGfx=PIXI.Sprite.fromFrame(e.FRAME_TAP);this._infoGfx=PIXI.Sprite.fromFrame(e.FRAME_INFO_MOBILE)}else{this._playGfx=PIXI.Sprite.fromFrame(e.FRAME_CLICK);this._infoGfx=PIXI.Sprite.fromFrame(e.FRAME_INFO_DESKTOP);this._gamepadConnected=PIXI.Sprite.fromFrame("gamepad_connected");this._gamepadDisconnected=PIXI.Sprite.fromFrame("gamepad_not_connected")}if(this._gamepadConnected){this._gamepadConnected.position.x=4;this._gamepadConnected.position.y=4;this._container.addChild(this._gamepadConnected);this._gamepadConnected.visible=false}if(this._gamepadDisconnected){this._gamepadDisconnected.position.x=4;this._gamepadDisconnected.position.y=4;this._container.addChild(this._gamepadDisconnected);this._gamepadDisconnected.visible=false}this._logo=PIXI.Sprite.fromFrame("title_logo");this._logo.position.y=50;this._container.addChild(this._logo);this._infoGfx.scale=new PIXI.Point(0.8,0.8);this._infoGfx.position.x=(d.GameMain.GAME_DIMENSION.width>>1)-(this._infoGfx.width>>1);this._infoGfx.position.y=390;this._container.addChild(this._infoGfx);this._playGfx.scale=new PIXI.Point(0.8,0.8);this._playGfx.position.x=(d.GameMain.GAME_DIMENSION.width>>1)-(this._playGfx.width>>1);this._playGfx.position.y=450;this._container.addChild(this._playGfx);this._creditGfx=PIXI.Sprite.fromFrame("credits");this._creditGfx.position.x=0;this._creditGfx.position.y=d.GameMain.GAME_DIMENSION.height-this._creditGfx.height;this._container.addChild(this._creditGfx);this._creditsWidth=this._creditGfx.width;this.onWindowClickHL=this.onWindowClickHL.bind(this);this.onWindowTouchStartHL=this.onWindowTouchStartHL.bind(this);this.onWindowTouchEndHL=this.onWindowTouchEndHL.bind(this);this._divArea=document.getElementById("container");this._divArea.addEventListener("click",this.onWindowClickHL,false);this.toggleWindowClick(true);this.showGamepadConnected(false)}e.prototype.toggleWindowClick=function(g){this._divArea.removeEventListener("click",this.onWindowClickHL,false);this._divArea.removeEventListener("touchend",this.onWindowTouchEndHL,false);this._divArea.removeEventListener("touchstart",this.onWindowTouchStartHL,false);if(g){this._divArea.addEventListener("click",this.onWindowClickHL,false);this._divArea.addEventListener("touchend",this.onWindowTouchEndHL,false);this._divArea.addEventListener("touchstart",this.onWindowTouchStartHL,false)}};e.prototype.onWindowTouchStartHL=function(g){this._isClick=true};e.prototype.onWindowTouchEndHL=function(g){if(this._isClick==false){return}this.onWindowClickHL(null);g.preventDefault();g.stopPropagation()};e.prototype.showGamepadConnected=function(g){if(!this._gamepadConnected){return}this._gamepadConnected.visible=false;this._gamepadDisconnected.visible=false;if(g){this._gamepadConnected.visible=true}else{this._gamepadDisconnected.visible=true}};e.prototype.onWindowClickHL=function(g){this.toggleWindowClick(false);var h={};h.type=d.GameEventType.START_GAME;this.dispatchEvent(h);if(g){g.preventDefault();g.stopPropagation()}};e.prototype.update=function(){if(this._creditGfx){this._creditGfx.position.x-=0.5;if(this._creditGfx.position.x<=-this._creditsWidth){this._creditGfx.position.x=d.GameMain.GAME_DIMENSION.width}}};e.prototype.dispose=function(){this.toggleWindowClick(false);this._playGfx=null;this._infoGfx=null;this._creditGfx=null;this._logo=null;this._divArea=null;this._container=null};e.FRAME_INFO_MOBILE="instruction_mobile";e.FRAME_INFO_DESKTOP="instruction_desktop";e.FRAME_TAP="tap_to_play";e.FRAME_CLICK="click_to_play";return e})(PIXI.EventTarget);d.TitleScreen=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(f){__extends(e,f);function e(k){f.call(this);this._listRect=[];this._hitRect=new PIXI.Rectangle(0,0,0,0);this._ratioX=1;this._ratioY=1;this.currentSelectPosition=0;this._container=k;this._selectGfx=PIXI.Sprite.fromFrame("select_level");this._selectGfx.position.x=(d.GameMain.GAME_DIMENSION.width>>1)-(this._selectGfx.width>>1);this._selectGfx.position.y=50;this._container.addChild(this._selectGfx);this.onWindowClickHL=this.onWindowClickHL.bind(this);this.onWindowTouchHL=this.onWindowTouchHL.bind(this);var j=30;var g=110;for(var l=0;l<d.LevelData.LIST.length;l++){var h=PIXI.Sprite.fromFrame("hud_levelblock_"+(l+1).toString());h.anchor.x=0.5;h.anchor.y=0.5;h.position.x=j+(h.width>>1);h.position.y=g+(h.height>>1);var m=new PIXI.Rectangle(j,g,h.width,h.height);this._listRect.push(m);this._container.addChild(h);j+=h.width+20;if((l+1)%4==0){j=30;g+=h.height+30}}this._borderGfx=new PIXI.Graphics();this._borderGfx.lineStyle(2,255,0.6);this._borderGfx.drawRect(0,0,h.width+4,h.height+4);this._container.addChild(this._borderGfx);this._borderGfx.position.x=this._listRect[0].x-2;this._borderGfx.position.y=this._listRect[0].y-2;this._borderGfx.visible=false;this._divArea=document.getElementById("container");this._divArea.addEventListener("touchstart",this.onWindowTouchHL,false);this._divArea.addEventListener("click",this.onWindowClickHL,false)}e.prototype.moveLeft=function(){if(this.currentSelectPosition<=0){return}this.currentSelectPosition--;this.showBorder()};e.prototype.moveRight=function(){if(this.currentSelectPosition>=this._listRect.length-1){return}this.currentSelectPosition++;this.showBorder()};e.prototype.showBorder=function(g){if(typeof g==="undefined"){g=true}this._borderGfx.position.x=this._listRect[this.currentSelectPosition].x-2;this._borderGfx.position.y=this._listRect[this.currentSelectPosition].y-2;this._borderGfx.visible=g};e.prototype.resizeGameForMobile=function(h,g){this._ratioX=d.GameMain.GAME_DIMENSION.width/h;this._ratioY=d.GameMain.GAME_DIMENSION.height/g};e.prototype.onWindowTouchHL=function(j){var k=j.touches[0];var i=this._divArea.getBoundingClientRect();var h=k.clientX-i.left;var g=k.clientY-i.top;this.hitTestMousePosition(h,g);j.preventDefault();j.stopPropagation()};e.prototype.onWindowClickHL=function(j){var i=this._divArea.getBoundingClientRect();var h=j.offsetX?j.offsetX:j.clientX-i.left;var g=j.offsetY?j.offsetY:j.clientY-i.top;this.hitTestMousePosition(h,g);j.preventDefault();j.stopPropagation()};e.prototype.hitTestMousePosition=function(j,g){j=j*this._ratioX;g=g*this._ratioY;for(var h=0;h<this._listRect.length;h++){this._hitRect=new PIXI.Rectangle(this._listRect[h].x,this._listRect[h].y,this._listRect[h].width,this._listRect[h].height);if(this._hitRect.contains(j,g)){var k={};k.type=d.GameEventType.LEVEL_START;k.content=h;this.dispatchEvent(k);break}}};e.prototype.update=function(){};e.prototype.dispose=function(){if(this._divArea){this._divArea.removeEventListener("touchstart",this.onWindowTouchHL,false);this._divArea.removeEventListener("click",this.onWindowClickHL,false)}this._divArea=null;this._selectGfx=null;this._borderGfx=null;this._listRect.length=0;this._listRect=null;this._hitRect=null;this._container=null};return e})(PIXI.EventTarget);d.LevelSelectScreen=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(f){__extends(e,f);function e(){f.call(this);this.BUTTONS={FACE_1:0,FACE_2:1,FACE_3:2,FACE_4:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5,LEFT_SHOULDER_BOTTOM:6,RIGHT_SHOULDER_BOTTOM:7,SELECT:8,START:9,LEFT_ANALOGUE_STICK:10,RIGHT_ANALOGUE_STICK:11,PAD_TOP:12,PAD_BOTTOM:13,PAD_LEFT:14,PAD_RIGHT:15};this.AXES={LEFT_ANALOGUE_HOR:0,LEFT_ANALOGUE_VERT:1,RIGHT_ANALOGUE_HOR:2,RIGHT_ANALOGUE_VERT:3};this.isConencted=false;this.isAction=false;this.isLeft=false;this.isRight=false;this._isMute=false;this._isMenu=false;this._isFirefox=false;this._canCheckButtonsAndAxes=false;this.setCanCheckButtonsAndAxes=this.setCanCheckButtonsAndAxes.bind(this);this._isFirefox=d.DeviceUtils.isFirefox();if(this._isFirefox){}}e.prototype.setCanCheckButtonsAndAxes=function(){this._canCheckButtonsAndAxes=true};e.prototype.update=function(){var k=null;if(navigator.webkitGetGamepads){k=navigator.webkitGetGamepads()[0]}else{if(navigator.getGamepads){k=navigator.getGamepads()[0]}}if(k==null){if(this.isConencted==true){this.isConencted=false;var m={};m.type=d.GameEventType.GAMEPAD_DISCONNECTED;this.dispatchEvent(m);return}return}if(this.isConencted==false){this.isConencted=true;var m={};m.type=d.GameEventType.GAMEPAD_CONNECTED;this.dispatchEvent(m);setTimeout(this.setCanCheckButtonsAndAxes,500);return}if(this._canCheckButtonsAndAxes==false){return}var j;var o=false;var n=false;var g=false;for(j=0;j<k.buttons.length;j++){if(j==this.BUTTONS.FACE_3){if(this.isButtonPress(k.buttons[j])){n=true;break}}else{if(j==this.BUTTONS.FACE_4){if(this.isButtonPress(k.buttons[j])){g=true;break}}else{if(j==this.BUTTONS.FACE_1||j==this.BUTTONS.FACE_2||j==this.BUTTONS.SELECT||j==this.BUTTONS.START){if(this.isButtonPress(k.buttons[j])){o=true;break}}}}}this.setAction(o);this.setMute(n);this.setMenu(g);var l=false;var h=false;for(j=0;j<k.axes.length;j++){if(j==this.AXES.LEFT_ANALOGUE_HOR){if(k.axes[j]==0){l=false;h=false}else{if(k.axes[j]<0){h=true;l=false}else{if(k.axes[j]>0){l=true;h=false}}}if(l==true||h==true){break}}}this.setLeft(h);this.setRight(l)};e.prototype.isButtonPress=function(g){if(this._isFirefox){var h=g;if(h.pressed==true){return true}}else{if(g==1){return true}}return false};e.prototype.setMute=function(g){if(this._isMute!=g&&this.isConencted==true){this._isMute=g;if(this._isMute==true){}else{var h={};h.type=d.GameEventType.GAMEPAD_MUTE_KEY;this.dispatchEvent(h)}}};e.prototype.setMenu=function(g){if(this._isMenu!=g&&this.isConencted==true){this._isMenu=g;if(this._isMenu==true){}else{var h={};h.type=d.GameEventType.GAMEPAD_MENU_KEY;this.dispatchEvent(h)}}};e.prototype.setLeft=function(g){if(this.isLeft!=g&&this.isConencted==true){this.isLeft=g;if(this.isLeft==true){var h={};h.type=d.GameEventType.GAMEPAD_LEFT_KEY;this.dispatchEvent(h)}}};e.prototype.setRight=function(g){if(this.isRight!=g&&this.isConencted==true){this.isRight=g;if(this.isRight==true){var h={};h.type=d.GameEventType.GAMEPAD_RIGHT_KEY;this.dispatchEvent(h)}}};e.prototype.setAction=function(g){if(this.isAction!=g&&this.isConencted==true){this.isAction=g;if(this.isAction==true){var h={};h.type=d.GameEventType.GAMEPAD_ACTION_KEY;this.dispatchEvent(h)}}};e.prototype.dispose=function(){};return e})(PIXI.EventTarget);d.GamepadControl=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));var com;(function(a){(function(d){var c=(function(){function e(){this._gameRect=new PIXI.Rectangle(0,0,e.GAME_DIMENSION.width,e.GAME_DIMENSION.height);this._isPaused=false;this._gameInitialized=false;this._currentLevel=0;this._score=0;this._divArea=document.getElementById("container");this._loaderArea=document.getElementById("loader_area");var f=document.getElementById("game_area");this._stage=new PIXI.Stage(16777215,false);if(d.DeviceUtils.renderInWebGL()){this._renderer=PIXI.autoDetectRenderer(e.GAME_DIMENSION.width,e.GAME_DIMENSION.height,f,true)}else{this._renderer=new PIXI.CanvasRenderer(e.GAME_DIMENSION.width,e.GAME_DIMENSION.height,f,true)}if(this._renderer instanceof PIXI.WebGLRenderer){}else{}this._isMobileDevice=d.DeviceUtils.isMobileDevice();this.mapBinds();if(this._isMobileDevice){this.resizeGameForMobile();window.addEventListener("resize",this.onResizeWindowHandler,false);window.addEventListener("orientationchange",this.onOrientationChangeHandler,false)}if(d.DeviceUtils.isGamepadSupported()&&d.DeviceUtils.isMobileDevice()==false){this._gamePad=new d.GamepadControl();this._gamePad.addEventListener(d.GameEventType.GAMEPAD_ACTION_KEY,this.onGamepadActionKeyHL);this._gamePad.addEventListener(d.GameEventType.GAMEPAD_RIGHT_KEY,this.onGamepadRightKeyHL);this._gamePad.addEventListener(d.GameEventType.GAMEPAD_LEFT_KEY,this.onGamepadLeftKeyHL);this._gamePad.addEventListener(d.GameEventType.GAMEPAD_CONNECTED,this.onGamepadConnectedHL);this._gamePad.addEventListener(d.GameEventType.GAMEPAD_DISCONNECTED,this.onGamepadDisconnectedHL);this._gamePad.addEventListener(d.GameEventType.GAMEPAD_MUTE_KEY,this.onGamepadMuteToggleHL);this._gamePad.addEventListener(d.GameEventType.GAMEPAD_MENU_KEY,this.onGamepadMenuHL)}document.addEventListener("mozfullscreenchange",this.onFullScreenChangeHL,false);this._assetLoader=new PIXI.AssetLoader(["assets/data.json"]);this._assetLoader.addEventListener("onComplete",this.onAssetsLoadComplete);this._assetLoader.load();requestAnimFrame(this.animate)}e.prototype.mapBinds=function(){this.animate=this.animate.bind(this);this.onAssetsLoadComplete=this.onAssetsLoadComplete.bind(this);this.onResizeWindowHandler=this.onResizeWindowHandler.bind(this);this.onWindowBlurHL=this.onWindowBlurHL.bind(this);this.onPauseWindowClickHL=this.onPauseWindowClickHL.bind(this);this.onGameOverWindowClickHL=this.onGameOverWindowClickHL.bind(this);this.onLevelCompleteWindowClickHL=this.onLevelCompleteWindowClickHL.bind(this);this.onOrientationChangeHandler=this.onOrientationChangeHandler.bind(this);this.onStartGameHL=this.onStartGameHL.bind(this);this.onLevelSelectHL=this.onLevelSelectHL.bind(this);this.onLevelCompleteHL=this.onLevelCompleteHL.bind(this);this.onGameOverHL=this.onGameOverHL.bind(this);this.onSoundLoadedHL=this.onSoundLoadedHL.bind(this);this.onSoundErrorHL=this.onSoundErrorHL.bind(this);this.onGamePauseHL=this.onGamePauseHL.bind(this);this.ShowMenuFromGame=this.ShowMenuFromGame.bind(this);this.onGamepadActionKeyHL=this.onGamepadActionKeyHL.bind(this);this.onGamepadConnectedHL=this.onGamepadConnectedHL.bind(this);this.onGamepadDisconnectedHL=this.onGamepadDisconnectedHL.bind(this);this.onGamepadRightKeyHL=this.onGamepadRightKeyHL.bind(this);this.onGamepadLeftKeyHL=this.onGamepadLeftKeyHL.bind(this);this.onGamepadMuteToggleHL=this.onGamepadMuteToggleHL.bind(this);this.onGamepadMenuHL=this.onGamepadMenuHL.bind(this);this.onFullScreenChangeHL=this.onFullScreenChangeHL.bind(this)};e.prototype.onGamepadConnectedHL=function(f){if(this._titleScreen){this._titleScreen.showGamepadConnected(true)}else{if(this._levelSelectScreen){this._levelSelectScreen.showBorder()}}};e.prototype.onGamepadMenuHL=function(f){if(this._hero){this.disposeGame();this.initTitleScreen()}};e.prototype.onGamepadMuteToggleHL=function(f){if(this._hero){if(this._hud){this._hud.onToggleMuteHL(null)}}};e.prototype.onGamepadDisconnectedHL=function(f){if(this._titleScreen){this._titleScreen.showGamepadConnected(false)}else{if(this._levelSelectScreen){this._levelSelectScreen.showBorder(false)}}};e.prototype.onOrientationChangeHandler=function(f){this.resizeGameForMobile()};e.prototype.onResizeWindowHandler=function(f){this.resizeGameForMobile()};e.prototype.onAssetsLoadComplete=function(f){this._assetLoader.removeEventListener("onComplete",this.onAssetsLoadComplete);d.SoundManager.event.addEventListener(d.GameEventType.SOUND_LOADED,this.onSoundLoadedHL);d.SoundManager.event.addEventListener(d.GameEventType.SOUND_ERROR,this.onSoundErrorHL);d.SoundManager.init()};e.prototype.onSoundErrorHL=function(f){this.init()};e.prototype.onSoundLoadedHL=function(f){this.init()};e.prototype.init=function(){d.SoundManager.event.removeEventListener(d.GameEventType.SOUND_LOADED,this.onSoundLoadedHL);d.SoundManager.event.removeEventListener(d.GameEventType.SOUND_ERROR,this.onSoundErrorHL);this._background=new d.BackgroundArea();this._background.resizeGameForMobile(this._gameRect.width,this._gameRect.height);this.hideLoader();this.initTitleScreen()};e.prototype.initTitleScreen=function(){this._titleContainer=new PIXI.DisplayObjectContainer();this._stage.addChild(this._titleContainer);this._titleScreen=new d.TitleScreen(this._titleContainer);this._titleScreen.addEventListener(d.GameEventType.START_GAME,this.onStartGameHL);if(this._gamePad){this._titleScreen.showGamepadConnected(this._gamePad.isConencted)}};e.prototype.onGamepadLeftKeyHL=function(f){if(this._levelSelectScreen){d.SoundManager.playClick();this._levelSelectScreen.moveLeft()}};e.prototype.onGamepadRightKeyHL=function(f){if(this._levelSelectScreen){d.SoundManager.playClick();this._levelSelectScreen.moveRight()}};e.prototype.onGamepadActionKeyHL=function(f){if(this._titleScreen){this.onStartGameHL(null)}else{if(this._levelSelectScreen){this.onLevelSelectHL(null)}else{if(this._hero){if(this._hero.isLevelComplete==true){this.onLevelCompleteWindowClickHL(null)}else{if(this._hero.isAlive==false){this.onGameOverWindowClickHL(null)}else{d.SoundManager.playClick();this.onGamePauseHL(null)}}}}}};e.prototype.onStartGameHL=function(f){d.SoundManager.playClick();this.disposeTitle();d.SoundManager.init();this.initGameArea()};e.prototype.onFullScreenChangeHL=function(f){d.DeviceUtils.lockScreenToPortrait()};e.prototype.launchFullScreen=function(){document.fullscreenEnabled=document.fullscreenEnabled||document.mozFullScreenEnabled||document.documentElement.webkitRequestFullScreen||document.msFullscreenEnabled;if(document.fullscreenEnabled==false){return}var f=document.documentElement;if(f.requestFullscreen){f.requestFullscreen()}else{if(f.msRequestFullscreen){f.msRequestFullscreen()}else{if(f.mozRequestFullScreen){f.mozRequestFullScreen()}else{if(f.webkitRequestFullscreen){f.webkitRequestFullscreen()}}}}};e.prototype.onLevelSelectHL=function(g){d.SoundManager.playClick();var f=0;if(this._gamePad&&this._levelSelectScreen){if(this._gamePad.isConencted){f=this._levelSelectScreen.currentSelectPosition}}this.disposeLevelSelect();if(g&&g.content){this._currentLevel=g.content}else{this._currentLevel=f}this.initGameArea()};e.prototype.initGameArea=function(){this._hud=new d.HudArea();this._hud.addEventListener(d.GameEventType.TOGGLE_PAUSE,this.onGamePauseHL);this._hud.addEventListener(d.GameEventType.SHOW_MENU_FROM_GAME,this.ShowMenuFromGame);this._hud.resizeGameForMobile(this._gameRect.width,this._gameRect.height);this._cloudsContainer=new PIXI.DisplayObjectContainer();this._stage.addChild(this._cloudsContainer);this._container=new PIXI.DisplayObjectContainer();this._stage.addChild(this._container);this._container.position.y=e.GAME_DIMENSION.height;this._cloud=new d.CloudsDisplay(this._cloudsContainer);this._platformManager=new d.PlatformManager(this._container);window.addEventListener("blur",this.onWindowBlurHL,false);this._gameInitialized=true;this._isPaused=false;this.nextLevel()};e.prototype.ShowMenuFromGame=function(f){this.disposeGame();this.initTitleScreen()};e.prototype.onGamePauseHL=function(f){this.pauseGame(!this._isPaused)};e.prototype.nextLevel=function(){this._container.position.y=e.GAME_DIMENSION.height;this._platformManager.showLevel(this._currentLevel);this._hero=new d.Hero(this._container,this._renderer);this._hero.addEventListener(d.GameEventType.LEVEL_COMPLETE,this.onLevelCompleteHL);this._hero.addEventListener(d.GameEventType.PLAYER_DIE,this.onGameOverHL);this._hero.addEventListener(d.GameEventType.TOGGLE_PAUSE,this.onGamePauseHL);this._platformManager.init(this._hero);this._hero.onGameStart();this._hero.updateScore(this._score);this._hud.setScore(this._score)};e.prototype.onPauseWindowClickHL=function(f){d.SoundManager.playClick();this.toggleClickToResumeEvent(false);this.pauseGame(false);if(f){f.preventDefault();f.stopPropagation()}};e.prototype.onWindowBlurHL=function(f){this.pauseGame(true)};e.prototype.pauseGame=function(f){if(this._isPaused==f){return}if(this._hero==null){return}if(this._hero.isAlive==false||this._hero.isLevelComplete==true){return}if(f==true){this._isPaused=true;this.toggleClickToResumeEvent(true);this._hud.showPause(true)}else{this.toggleClickToResumeEvent(false);this._isPaused=false;this._hud.showPause(false)}};e.prototype.toggleClickToResumeEvent=function(f){this._divArea.removeEventListener("click",this.onPauseWindowClickHL,false);this._divArea.removeEventListener("touchstart",this.onPauseWindowClickHL,false);if(f){this._divArea.addEventListener("click",this.onPauseWindowClickHL,false);this._divArea.addEventListener("touchstart",this.onPauseWindowClickHL,false)}};e.prototype.onLevelCompleteHL=function(f){var g=this._container.position.y;if(this._currentLevel<this._platformManager.getTotalLevels()-1){this._hud.showLevelComplete(g,g+this._hero.getScore());this._hero.updateScore(g);this.toggleLevelCompleteWindowClick(true)}else{this._hud.showGameComplete(g,g+this._hero.getScore());this.toggleLevelCompleteWindowClick(true)}};e.prototype.onGameOverHL=function(f){var g=this._container.position.y;this._hud.showGameOver(g,g+this._hero.getScore());this.toggleGameOverWindowClick(true)};e.prototype.toggleGameOverWindowClick=function(f){this._divArea.removeEventListener("click",this.onGameOverWindowClickHL,false);this._divArea.removeEventListener("touchend",this.onGameOverWindowClickHL,false);if(f){this._divArea.addEventListener("click",this.onGameOverWindowClickHL,false);this._divArea.addEventListener("touchend",this.onGameOverWindowClickHL,false)}};e.prototype.onGameOverWindowClickHL=function(f){d.SoundManager.playClick();this.toggleGameOverWindowClick(false);this._hud.hideGameOver();this.restartGame();if(f){f.preventDefault();f.stopPropagation()}};e.prototype.toggleLevelCompleteWindowClick=function(f){this._divArea.removeEventListener("click",this.onLevelCompleteWindowClickHL,false);this._divArea.removeEventListener("touchend",this.onLevelCompleteWindowClickHL,false);if(f){this._divArea.addEventListener("click",this.onLevelCompleteWindowClickHL,false);this._divArea.addEventListener("touchend",this.onLevelCompleteWindowClickHL,false)}};e.prototype.onLevelCompleteWindowClickHL=function(f){d.SoundManager.playClick();this.toggleLevelCompleteWindowClick(false);this._currentLevel++;if(this._currentLevel>=this._platformManager.getTotalLevels()){this.disposeGame();this.initTitleScreen();return}this._hud.hideGameOver();this._score=this._hero.getScore();this.disposeHero();if(this._platformManager){this._platformManager.clearLevel()}this.nextLevel();if(f){f.preventDefault();f.stopPropagation()}};e.prototype.restartGame=function(){this.toggleGameOverWindowClick(false);this.disposeGame();this.initGameArea()};e.prototype.animate=function(){if(this._gamePad){this._gamePad.update()}if(this._isPaused==true){requestAnimFrame(this.animate);return}if(this._titleScreen){this._titleScreen.update()}if(this._levelSelectScreen){this._levelSelectScreen.update()}if(this._platformManager){this._platformManager.update()}if(this._hero){if(this._gamePad){if(this._gamePad.isConencted){this._hero.setLeft(this._gamePad.isLeft);this._hero.setRight(this._gamePad.isRight)}}this._hero.update();if(this._container&&this._hero.isAlive){if(this._hero.gfx.position.y<-300){this._container.position.y=e.GAME_DIMENSION.height-this._hero.gfx.position.y-300}}if(this._hud&&this._hero.isLevelComplete==false&&this._hero.isAlive==true){this._hud.setScore(this._hero.getScore())}}if(this._cloud){this._cloud.update()}this._renderer.render(this._stage);requestAnimFrame(this.animate)};e.prototype.resizeGameForMobile=function(){var g=window.innerWidth;var j=window.innerHeight;var l=e.GAME_DIMENSION.width/e.GAME_DIMENSION.height;var i=g/j;if(i>l){g=Math.round(j*l)}else{j=Math.round(g/l)}this._gameRect.width=g;this._gameRect.height=j;this._renderer.view.style.height=j+"px";this._renderer.view.style.width=g+"px";if(this._background){this._background.resizeGameForMobile(g,j)}if(this._hud){this._hud.resizeGameForMobile(g,j)}if(this._levelSelectScreen){this._levelSelectScreen.resizeGameForMobile(g,j)}var f=document.getElementById("container");f.style.width=g+"px";f.style.height=j+"px";f.style.padding="0px";f.style.borderRadius="0px";var h=(window.innerHeight-j)>>1;f.style.paddingTop=h.toString()+"px";document.body.style.backgroundImage="none";this._loaderArea.style.width=g+"px";this._loaderArea.style.height=j+"px";var k=document.getElementById("header");k.style.display="none"};e.prototype.hideLoader=function(){this._loaderArea.style.display="none"};e.prototype.disposeTitle=function(){if(this._titleContainer){d.DisplayObjectUtils.removeAllChildren(this._titleContainer);if(this._titleContainer.parent){this._stage.removeChild(this._titleContainer)}}if(this._titleScreen){this._titleScreen.removeEventListener(d.GameEventType.START_GAME,this.onStartGameHL);this._titleScreen.dispose();this._titleScreen=null}this._titleContainer=null};e.prototype.disposeLevelSelect=function(){if(this._levelSelectScreen){this._levelSelectScreen.removeEventListener(d.GameEventType.LEVEL_START,this.onLevelSelectHL);this._levelSelectScreen.dispose();this._levelSelectScreen=null}if(this._levelScreenContainer){if(this._levelScreenContainer.parent){this._stage.removeChild(this._levelScreenContainer)}}this._levelScreenContainer=null};e.prototype.disposeHero=function(){if(this._hero){this._hero.removeEventListener(d.GameEventType.LEVEL_COMPLETE,this.onLevelCompleteHL);this._hero.removeEventListener(d.GameEventType.LEVEL_COMPLETE,this.onLevelCompleteHL);this._hero.removeEventListener(d.GameEventType.TOGGLE_PAUSE,this.onLevelCompleteHL);this._hero.dispose();this._hero=null}};e.prototype.disposeGame=function(){window.removeEventListener("blur",this.onWindowBlurHL,false);this.disposeHero();if(this._platformManager){this._platformManager.dispose();this._platformManager=null}if(this._hud){this._hud.removeEventListener(d.GameEventType.TOGGLE_PAUSE,this.onGamePauseHL);this._hud.removeEventListener(d.GameEventType.SHOW_MENU_FROM_GAME,this.ShowMenuFromGame);this._hud.dispose();this._hud=null}if(this._cloud){this._cloud.dispose();this._cloud=null}if(this._container){d.DisplayObjectUtils.removeAllChildren(this._container)}if(this._cloudsContainer){d.DisplayObjectUtils.removeAllChildren(this._cloudsContainer)}this._container=null;this._cloudsContainer=null};e.GAME_DIMENSION=new PIXI.Rectangle(0,0,400,575);return e})();d.GameMain=c})(a.goldenratio||(a.goldenratio={}));var b=a.goldenratio})(com||(com={}));window.addEventListener("load",onLoad,false);function onLoad(a){new com.goldenratio.GameMain()};